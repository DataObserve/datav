---
title: Geo Map
description: 
---

import TextList  from '@/components/docs/TextList'
import Code  from '@/components/docs/Code'

GeoMap 插件可以在地图的指定位置上渲染相应的数据点，例如根据国家编码、城市名以及坐标来渲染。

> 具体的国家编码、城市名，可以在[这里](https://github.com/data-observe/datav/tree/main/ui/public/plugins/panel/geomap)查阅

## 在世界地图上渲染国家和城市

<img src="https://github.com/data-observe/assets/blob/main/plugin/geomap.jpg?raw=true" />

## 在中国地图上渲染城市

<img src="https://github.com/data-observe/assets/blob/main/plugin/china-map.jpg?raw=true" />


## 热力图类型

<img src="https://github.com/data-observe/assets/blob/main/plugin/heat-map.jpg?raw=true" />


## 交互

你可以为地图上的点定义点击事件：

```js
// map:  openlayer map <https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html>
// setVariable: (varName:string, varValue:string) => void 
// navigate: react-router-dom -> useNavigate() -> navigate 
// setDateTime: (from: Timestamp, to: TimeStamp) => void

function onClick(data, map, navigate, setVariable, setDateTime, $variables) {
    // You can get all current variables in this way
    const coords = data[0].getGeometry().flatCoordinates
    const view = map.getView()
    view.setCenter(coords)
    view.setZoom(10)
}
```

有了如上交互事件后，点击地图上的点将自动以该点为中心，并进行缩放聚焦: 例如你点击中国的杭州：

<img src="https://github.com/data-observe/assets/blob/main/plugin/zoom-hangzhou.jpg?raw=true" />

## 阈值 Thresholds

当数据点的值大于给定阈值时，该数据点将被渲染为指定的颜色：

<img src="https://github.com/data-observe/assets/blob/main/plugin/geomap-threshold.jpg?raw=true" style={{height: '260px'}}/>


<img src="https://github.com/data-observe/assets/blob/main/plugin/geomap-threshold-effect.jpg?raw=true" style={{height: '260px'}}/>